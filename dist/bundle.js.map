{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/main.ts","src/ts/models/webView.ts","src/ts/models/widget.ts","src/ts/models/workspace.ts","src/ts/services/rosEvents.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"./typings/tsd.d.ts\" />\n\nimport {ROSEvent} from \"./services/rosEvents\"\nimport {WebView} from \"./models/webView\"\nimport {Widget} from \"./models/widget\"\nimport {Workspace} from \"./models/workspace\"\nimport {actualWorkspace} from \"./models/workspace\"\n\nfunction init() {\n  $(document).ready(function () {\n    let ros: ROSLIB.Ros = new ROSLIB.Ros(\"\");\n    let rosEvents: ROSEvent = new ROSEvent(ros);\n    actualWorkspace;\n    //initialize workspace menu\n    window['fnctMenuWorkspace']();\n  });\n}\n\ninit();","import {actualWorkspace} from \"./workspace\"\nimport {Widget} from \"./widget\"\n\ndeclare var MyApp: any;\n\nexport class WebView {\n    private _widgetHeaderOffset = 0;\n    constructor() {\n        Handlebars.registerHelper('trim', function(obj) {\n            return new Handlebars.SafeString(\n                obj.replace(/ /g,'')\n            );\n        });\n        Handlebars.registerHelper('skip', function(obj) {\n            //skipping videostream configs which should not be shown\n            if(obj === 'scaledWidth' || obj === 'scaledHeight') {\n                return false;\n            }\n            return true;\n        });\n    }\n\n    public insertWidget = (widget: Widget, widgetInstance?: any) => {\n        //JSON object needed for widgetWrapper context\n        let widgetWrapperData = {\n            id : widget.id,\n            posX: widget.posX,\n            posY: widget.posY,\n            width: widget.width,\n            height: widget.height + this._widgetHeaderOffset,\n            topic: widget.topicUrl,\n            topicImplementation: widget.topicImplementation,\n            btnSettings: $(widget.html).attr(\"data-btn-widget-settings\")!=\"1\"? false : true,\n            btnRemove: $(widget.html).attr(\"data-btn-widget-remove\")!=\"1\"? false : true\n        };\n\n        //load main.js to the document if it's not already loaded\n        loadScript(widget);\n\n        //generate html from wrapper to insert it later\n        let wrapperHtml = MyApp.templates.widgetWrapper(widgetWrapperData);\n\n        //compile html to javascript\n        let widgetTemplateCompiled  = Handlebars.compile(widget.html);\n        setTimeout(function() {\n            if(widgetInstance == null) {\n                //create object of widgetinstance and initialize it with default values\n                widget.widgetInstance = new this[widget.topicImplementation](widget.id, widget.ros, widget.topicUrl, widget.topicType,\n                                                                            widget.topicImplementation).init();\n            } else {\n                //create object with loaded settings\n                widget.widgetInstance = new this[widget.topicImplementation](widget.id, widget.ros, widget.topicUrl, widget.topicType,\n                                                                            widget.topicImplementation).load(widgetInstance.settings);\n            }\n\n            //compile javascript with the data from the widgetinstance to html\n            let widgetHtml = widgetTemplateCompiled(widget.widgetInstance);\n\n            //insert wrapper into document, afterwards the widget itself\n            $(wrapperHtml).appendTo(\"#frontend-container\");\n            $(widgetHtml).appendTo(\"div[data-widget-id=\"+widget.id+\"] .panel-body\");\n\n            //add default event handling to widget (if not existing, nothing happens)\n            $(\"div[data-widget-id=\"+widget.id+\"] .jsWidgetSettings\").on( \"click\", widget.widgetInstance ,widget.widgetInstance.btnSettings);\n            //use remove of widgetInstance, then clean up workspace\n            $(\"div[data-widget-id=\"+widget.id+\"] .jsWidgetRemove\").on( \"click\", widget.widgetInstance, function() {\n                if(widget.widgetInstance.btnRemove) {\n                    widget.widgetInstance.btnRemove(widget);\n                }\n                actualWorkspace.removeWidget(widget);\n                $(\"div[data-widget-id=\"+widget.id+\"]\").remove();\n            });\n            $('.undraggable').draggable({handle: '.draggable'});\n\n            if(widget.widgetInstance.resizable) {\n                widget.widgetInstance.resizable();\n            } else {\n                $(\"div[data-widget-id=\"+widget.id+\"]\").resizable();\n            }\n\n            widget.widgetInstance.run();\n            //insert settings for this widget\n            insertSettings(widget);\n        }\n        , 1000);\n    }\n\n}\n\n\n//load settings file\nfunction insertSettings(widget: Widget) {\n    $.ajax({\n        url: \"widgets/\" + widget.topicType + \"/\" + widget.topicImplementation + \"/settings.hbs\",\n        method: \"POST\",\n        beforeSend: function () {\n\n        },\n        success: function (data: string) {\n            let settingsCompiled  = Handlebars.compile(data);\n            let settingsHtml = settingsCompiled(widget.widgetInstance);\n            $(\"div[data-widget-id=\"+widget.id+\"]\").append(settingsHtml);\n            $(\"div[data-widget-id=\"+widget.id+\"] .jsWidgetSettingsSave\").on( \"click\", widget.widgetInstance, widget.widgetInstance.btnSettingsSave);\n            },\n        error: function (e1: any, e2: any) {\n\n        },\n        cache: false\n    });\n}\n\n//load script file\nfunction loadScript(widget: Widget) {\n    let alreadyLoaded = $('script[src=\\\"widgets/' + widget.topicType + '/' + widget.topicImplementation + '/main.js\\\"]');\n    if(alreadyLoaded.length > 0) {\n    } else {\n        let jsString = \"widgets/\" + widget.topicType + \"/\" + widget.topicImplementation + \"/main.js\";\n        $.ajax({\n            type: \"GET\",\n            url: jsString,\n            success: function(data) {\n                $(document.body).append('<script type=\"text/javascript\" src='+jsString+'></script>');\n            },\n            dataType: \"script\",\n            cache: false\n        });\n    }\n}\n","import {ROSEvent} from \"../services/rosEvents\"\n\nexport class Widget{\n    public ros: ROSLIB.Ros;\n    public id: number;\n    public topicUrl: string;\n    public topicType: string;\n    public width: number;\n    public height: number;\n    public posX: number;\n    public posY: number;\n    public html: string;\n    public topicImplementation: string;\n    public widgetInstance: any;\n\n\n    constructor(id: number, topicUrl: string, topicType: string, width: number, height: number,\n                posX: number, posY: number, html: string, topicImplementation: string) {\n        this.ros = ROSEvent.getInstance();\n        this.id = id;\n        this.topicUrl = topicUrl;\n        this.topicType = topicType;\n        this.width = width;\n        this.height = height;\n        this.posX = posX;\n        this.posY = posY;\n        this.html = html;\n        this.topicImplementation = topicImplementation;\n    }\n\n    public save() {\n        let wrapper = $(\"div[data-widget-id=\"+this.id+\"]\");\n        this.width =  parseInt(wrapper.css('width').slice(0,-2));\n        this.height = parseInt(wrapper.css('height').slice(0,-2));\n        this.posX = parseInt(wrapper.css('left').slice(0,-2));\n        this.posY = parseInt(wrapper.css('top').slice(0,-2));\n    }\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport {WebView} from \"./webView\"\nimport {Widget} from \"./widget\"\nimport {ROSEvent} from \"../services/rosEvents\"\nimport {rosEvents} from \"../services/rosEvents\"\n\n\ndeclare var MyApp: any;\n\nexport class Workspace{\n    public rosMasterAdress: string;\n    public name: string;\n    public id: number;\n    public widgets: Widget[];\n    public webView: WebView;\n    public idCounter: number;\n\n    constructor() {\n        this.widgets = [];\n        this.idCounter = 0;\n        this.webView = new WebView();\n        this.rosMasterAdress = $(\"#rosMasterAdress\").val();\n    }\n\n    //create new widget\n    public createWidget(topicUrl:string, topicType: string, topicImplementation: string) {\n        //load index file\n        $.ajax({\n            url: \"widgets/\" + topicType + \"/\" + topicImplementation + \"/index.hbs\",\n            method: \"POST\",\n            beforeSend: function () {\n\n            },\n            success: function (data: string) {\n                let posX = parseInt($(data).attr(\"data-pos-x\"));\n                let posY = parseInt($(data).attr(\"data-pos-y\"));\n                let width = parseInt($(data).attr(\"data-min-width\"));\n                let height = parseInt($(data).attr(\"data-min-height\"));\n                let crtWidget = new Widget(actualWorkspace.idCounter, topicUrl, topicType,\n                                            width, height, posX, posY, data, topicImplementation);\n                actualWorkspace.webView.insertWidget(crtWidget);\n                actualWorkspace.widgets.push(crtWidget);\n                actualWorkspace.idCounter++;\n            },\n            error: function (e1: any, e2: any) {\n\n            },\n            cache: false\n        });\n    }\n\n    //load a widget from loaded workspace\n    public loadWidget(widget: Widget){\n        //load index file\n        $.ajax({\n            url: \"widgets/\" + widget.topicType + \"/\" + widget.topicImplementation + \"/index.hbs\",\n            method: \"POST\",\n            beforeSend: function () {\n\n            },\n            success: function (data: string) {\n                let crtWidget = new Widget(actualWorkspace.idCounter, widget.topicUrl, widget.topicType,\n                                            widget.width, widget.height, widget.posX, widget.posY, data, widget.topicImplementation);\n                actualWorkspace.webView.insertWidget(crtWidget, widget.widgetInstance);\n                actualWorkspace.widgets.push(crtWidget);\n                actualWorkspace.idCounter++;\n            },\n            error: function (e1: any, e2: any) {\n\n            },\n            cache: false\n        });\n    }\n\n    //remove Widget from workspace\n    public removeWidget(widget: Widget) {\n        actualWorkspace.widgets = $.grep(actualWorkspace.widgets, function(e){ \n            return e.id != widget.id; \n        });\n    }\n\n    //save workspace with php-script\n    public saveWorkspace(name?: string) {\n        if(name == null) {\n            actualWorkspace.name = $('#workspace-new-save').val();\n        } else {\n            actualWorkspace.name = name;\n        }\n        if(actualWorkspace.name.length > 0) {\n            //store current widget size and position\n            for(let i = 0; i < actualWorkspace.widgets.length; i++) {\n                actualWorkspace.widgets[i].save();\n            }\n\n            $.ajax({\n                type: 'POST',\n                url: 'php/saveWorkspace.php',\n                data: {workspace: JSON.stringify(actualWorkspace)},\n                success: function(msg) {\n                    actualWorkspace.menuWorkspace();\n                }\n            });\n        } else {\n            //do nothing if no name was given\n        }\n    }\n\n    //load workspace with php-script\n    public loadWorkspace(name: string) {\n        $.ajax({\n            type: 'POST',\n            url: 'php/loadWorkspace.php',\n            data: {workspace: name},\n            success: function(msg) {\n                let loadedWorkspace = JSON.parse(msg);\n                let workspaceObj = JSON.parse(loadedWorkspace);\n\n                actualWorkspace.widgets = [];\n                actualWorkspace.idCounter = 0;\n                actualWorkspace.webView = new WebView();\n                actualWorkspace.rosMasterAdress = workspaceObj.rosMasterAdress;\n                actualWorkspace.name = workspaceObj.name;\n                \n                $(\"#rosMasterAdress\").val(actualWorkspace.rosMasterAdress);\n                rosEvents.establishConnection();\n\n                $('#frontend-container').empty();\n                for(let i = 0; i < workspaceObj.widgets.length; i++) {\n                    actualWorkspace.loadWidget(workspaceObj.widgets[i]);\n                }\n\n            }\n        });\n    }\n\n    public deleteWorkspace(name: string) {\n        $.ajax({\n            type: 'POST',\n            url: 'php/deleteWorkspace.php',\n            data: {workspace: name},\n            success: function(msg) {\n                $('#workspace-form-'+name).remove();\n            }\n        });\n    }\n\n    //generate menu-list of workspaces\n    public menuWorkspace() {\n        $.ajax({\n            type: 'POST',\n            url: 'php/generateWorkspaceMenu.php',\n            success: function(data) {\n                if(MyApp.templates['generateWorkspaceMenu'] == null) {\n                    actualWorkspace.loadMenuWorkspaceTemplate();\n                } else {\n                    let menuHtml = MyApp.templates.generateWorkspaceMenu({workspaces: JSON.parse(data)});\n                    $('#workspace-menu-body-wrapper').html(menuHtml);\n                }\n            }\n        });\n    }\n    \n\n    public loadMenuWorkspaceTemplate() {\n        $.ajax({\n            url: \"templates/workspaceMenu.hbs\",\n            method: \"POST\",\n            beforeSend: function () {\n\n            },\n            success: function (data: string) {\n                MyApp.templates['generateWorkspaceMenu'] = Handlebars.compile(data);\n                actualWorkspace.menuWorkspace();\n            },\n            cache: false\n        });\n    }\n}\n\nwindow[\"fnctCreateWidget\"] = fnctCreateWidget;\nfunction fnctCreateWidget(topicUrl: string, topicType: string, topicImplementation: string) {\n    actualWorkspace.createWidget(topicUrl, topicType, topicImplementation);\n}\n\nwindow[\"fnctSaveWorkspace\"] = fnctSaveWorkspace;\nfunction fnctSaveWorkspace(name?: string) {\n    if(name == null) {\n        actualWorkspace.saveWorkspace();\n    } else {\n        actualWorkspace.saveWorkspace(name);\n    }\n}\n\nwindow[\"fnctLoadWorkspace\"] = fnctLoadWorkspace;\nfunction fnctLoadWorkspace(name: string) {\n    actualWorkspace.loadWorkspace(name);\n}\n\nwindow[\"fnctDeleteWorkspace\"] = fnctDeleteWorkspace;\nfunction fnctDeleteWorkspace(name: string) {\n    actualWorkspace.deleteWorkspace(name);\n}\n\nwindow[\"fnctMenuWorkspace\"] = fnctMenuWorkspace;\nfunction fnctMenuWorkspace() {\n    actualWorkspace.menuWorkspace();\n}\n\nexport let actualWorkspace: Workspace = new Workspace();","/// <reference path=\"../typings/tsd.d.ts\" />\n\n/*Handling connection and events that are ROS related,\nlike connecting, disconnecting or building the topic menu dynamically.\nTo add supported ROS message types, add the type to the topicTypes Array.*/\n\ndeclare var MyApp: any;\n\nexport class ROSEvent {\n\n    private static ros: ROSLIB.Ros;\n    private static connected: boolean=false;\n\n    constructor(ros: ROSLIB.Ros) {\n        rosEvents = this;\n        ROSEvent.ros = ros;\n        ROSEvent.ros.on(\"connection\", this.onRosConnection);\n        ROSEvent.ros.on(\"close\", this.onRosClose);  \n        ROSEvent.ros.on(\"error\", this.onRosError);\n        this.DelegateEvent(\".jsRosConnect\", \"click\", this.establishConnection);\n    }\n\n    public DelegateEvent(selector: string | Document | Window, event: string, method: () => void) {\n        $(document).delegate(selector, event, method);\n    }\n    \n    public establishConnection = () => {\n        try {\n            $('.jsRosConnect').removeClass('error');\n            $('.jsRosConnect').removeClass('connected');\n            $('.jsRosMenu').removeClass('disconnected');\n            $('.jsRosMenu').removeClass('connected');\n            ROSEvent.ros.connect(\"ws://\"+$(\"#rosMasterAdress\").val());\n        } catch(e) {\n            $('.jsRosConnect').removeClass('connected');\n            $('.jsRosConnect').addClass('error');\n            $('.jsRosMenu').removeClass('connected');\n            $('.jsRosMenu').addClass('disconnected');\n            console.log(e);\n        }\n    }\n\n    public getConnectionStatus = () => {\n        return ROSEvent.getStatus();\n    }\n\n    public static getInstance() {\n        return ROSEvent.ros;\n    }\n\n    public static getStatus() {\n        return ROSEvent.connected;\n    }\n\n    private onRosConnection = () => {\n        $('.jsRosConnect').removeClass('error');\n        $('.jsRosConnect').addClass('connected');\n        //generate menu\n        this.buildMenu();\n        $('.jsRosMenu').removeClass('disconnected');\n        $('.jsRosMenu').addClass('connected');\n        ROSEvent.connected = true;\n    }\n\n    private onRosClose = () => {\n        $('.jsRosConnect').removeClass('connected');\n        $('.jsRosConnect').addClass('error');\n        $('.jsRosMenu').removeClass('connected');\n        $('.jsRosMenu').addClass('disconnected');\n        ROSEvent.connected = false;\n    }\n\n    private onRosError = (error: any) => {\n        $('.jsRosConnect').removeClass('connected');\n        $('.jsRosConnect').addClass('error');\n        $('.jsRosMenu').removeClass('connected');\n        $('.jsRosMenu').addClass('disconnected');\n        ROSEvent.ros.close();\n        ROSEvent.connected = false;\n        console.log(error);\n    }\n\n    //build menu dynamically, containing supported ROS topics\n    private buildMenu = ()  => {   \n        let topicTypes: string[] = ['geometry_msgs/Twist', 'sensor_msgs/Image', 'sensor_msgs/NavSatFix','sensor_msgs/Joy','iosb_sensor_msgs/GpsWithVelocity'];\n        let callbacksRemaining: number = topicTypes.length;\n        let typesWithTopics: Map<string, string[]> = new Map<string, string[]>();\n        let typesWithViews: Map<string, string[]> = new Map<string, string[]>();\n        typesWithViews.set('geometry_msgs/Twist',['KeyboardTeleoperation','Joystick']);\n        typesWithViews.set('sensor_msgs/Image',['Videostream']);\n        typesWithViews.set('sensor_msgs/NavSatFix',['Maps']);\n        typesWithViews.set('sensor_msgs/Joy',['Gamepad']);\n        //typesWithViews.set('iosb_sensor_msgs/GpsWithVelocity',['MapMustang']);\n\n\n        for (var i = 0; i < topicTypes.length; i++) {\n            ROSEvent.ros.getTopicsForType(topicTypes[i],function(topicsResult) {\n                ROSEvent.ros.getTopicType(topicsResult[0], function(typeResult) {\n                    typesWithTopics.set(typeResult, topicsResult);                 \n                    --callbacksRemaining;\n                    if(callbacksRemaining == 0) {\n                        let result = MyApp.templates.menu({types: buildJSON(typesWithTopics, typesWithViews)});\n                        \n                        $('.dropdown-menu').html(result);\n                        $('.dropdown-submenu a.jsTopicImplementation').on(\"click\", function(e){\n                            $(this).next('ul').toggle();\n                            e.stopPropagation();\n                            e.preventDefault();\n                        });\n                    }\n                });\n            });\n        }\n    }\n}\n\n//build JSON to get rendered with handlebars\nfunction buildJSON(typesWithTopics: Map<string, string[]>, typesWithViews: Map<string, string[]>) {\n    let topicResult: Object[] = [];    \n    for(let key of typesWithTopics.keys()) {\n        if(typesWithTopics.get(key).length > 0) {\n        let topicsArr: Object[] = [];\n        let implArr: Object[] = [];\n\n        //build implementations array\n        for(let impl of typesWithViews.get(key)) {\n            let implItem = {\n                implementation: impl\n            }\n            implArr.push(implItem);\n        }\n\n        //build topics array\n        for(let t of typesWithTopics.get(key)) {\n            let topicItem = {\n                topic: t,\n                implementations: implArr\n            }\n            topicsArr.push(topicItem);\n        }\n\n        //build types array\n        let item = {\n            type: key,\n            topics: topicsArr\n        }\n        topicResult.push(item);\n        }\n    }\n    return topicResult;\n}\n\nexport let rosEvents: ROSEvent;\n"]}